import { describe, expect, test } from "bun:test";
import { parseBytes } from "../src/bytes/bytes";

describe("parseInt", () => {
    const testValues: [string, number][] = [
        ["42", 42],
        ["42MB", 42000000],
        ["42MiB", 44040192],
        ["42mb", 42000000],
        ["42mib", 44040192],
        ["42MIB", 44040192],
        ["42 MB", 42000000],
        ["42 MiB", 44040192],
        ["42 mb", 42000000],
        ["42 mib", 44040192],
        ["42 MIB", 44040192],
        ["42.5MB", 42500000],
        ["42.5MiB", 44564480],
        ["42.5 MB", 42500000],
        ["42.5 MiB", 44564480],
        ["42M", 42000000],
        ["42Mi", 44040192],
        ["42m", 42000000],
        ["42mi", 44040192],
        ["42MI", 44040192],
        ["42 M", 42000000],
        ["42 Mi", 44040192],
        ["42 m", 42000000],
        ["42 mi", 44040192],
        ["42 MI", 44040192],
        ["42.5M", 42500000],
        ["42.5Mi", 44564480],
        ["42.5 M", 42500000],
        ["42.5 Mi", 44564480],
        ["1,005.03 MB", 1005030000],

        ["12.5 EB", 12500000000000000000],
        ["12.5 E", 12500000000000000000],
        ["12.5 EiB", 14305561806106624000],
    ];

    test.each(testValues)("%p should parse to %p", (str, num) => {
        expect(parseBytes(str)).toBe(num);
    });
});

